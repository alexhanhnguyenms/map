@page "/counter"
@inject IJSRuntime JSRuntime

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>
<p class="counter">Current count: @currentCount</p>
<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>
<h3>Bản đồ OpenStreetMap</h3>
<div id="info" style="margin-top: 20px; border: 1px solid #ccc; padding: 10px;">
    <h4>Thông tin bãi đỗ</h4>
    <div id="parkingInfo"></div>
</div>
<div id="map" style="height: 500px; width: 100%;"></div>

@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeVoidAsync("initMap");
        }
    }
    [JSInvokable]
    public static void MapClickCallback(double lat, double lng)
    {
        Console.WriteLine($"Người dùng click tại tọa độ: {lat}, {lng}");
    }
}
